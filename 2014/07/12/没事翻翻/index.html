<!doctype html>
<html class="theme-next use-motion theme-next-next-fish">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>




  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.1"/>


    <meta name="description" content="敲键盘按快门玩PS的厨子" />



	<meta name="keywords" content="C/C++," />

  <title> 没事翻翻[来自网络] // Sweetfish </title>
</head>

<body>
  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Sweetfish</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    
      
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      
      <li class="menu-item menu-item-categories">
        <a href="/categories">
          <i class="menu-item-icon icon-categories"></i> <br />
          分类
        </a>
      </li>
    
      
      
        <li class="menu-item menu-item-fish">
        <a href="http://fish.sweetfish1991.com" target="_blank">
          <i class="menu-item-icon icon-fish"></i> <br />
          非昔
        </a>
      </li>
      
      <li class="menu-item menu-item-about">
        <a href="/about">
          <i class="menu-item-icon icon-about"></i> <br />
          关于
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
            
          

          <div id="posts" class="posts-expand">
            
  

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              没事翻翻[来自网络]
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            发表于 2014-07-12
          
        </span>

        
          
            <span class="post-category">
              &nbsp; | &nbsp; 分类于
              
                <a href="/categories/C-C/">C/C++</a>

                
                

              
            </span>
          
        

        
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <p>Q&amp;A的基本功<br><a id="more"></a></p>
<p>##库和头文件的关系？<br>答：c++的库多了去了，各种库。但是一般安装编译器时把c++标准库就顺带安装了，这个基本的库一般叫做c标准库或者c++标准库。其他的库叫做扩展库（cpp_ex_libs）。库一般在目录中用lib文件夹盛放，库的头文件一般用include文件夹盛放。<br>头文件是指的源代码中在头部引入的文件。其实是引入了某个库的接口文件（头文件中一般存放一些类和声明）。只有在我们的逻辑源代码头部引入了某个库的头文件.h(一般在include文件夹内)，我们才能通过这个接口去使用该头文件所对应库(lib)的内部函数。当然，也可以引入我们自己定义的头文件。而c++标准库std中存在一些基本的库函数，那么，我们想使用这些个库函数的话，就该在我们代码的头部引入相应的接口。比如我们想用std标准库中的输入输出功能 ，那么我们就要在头部把这些功能的头文件iostream（接口）引入。这样，我们就能在代码中使用std标准库中的cout，cin等函数了。(函数名前面一般带有该函数所在库的名字空间，如cout的名字应该是他的标准库名::函数名，即std::cout; 为了简便可以在头部加上using namespace std;)</p>
<hr>
<p>###include 的使用方法？<br>答：#include 是一个固定格式，当需要引用另外一个头文件，其语法式就是在代码的新行处，写上：<br>#include &lt;头文件&gt;<br>或者<br>#include “头文件”<br>当然，学究一点的语法是没有中间的空格(我们并不推荐)。</p>
<hr>
<p>##””与&lt;&gt;的区别是?<br>答：如果引用的头文件是在编译系统预先定义的目录，比如iostream就是在c++标准库中，而标准库又是在编译系统预先安装的目录中。因此就可以用&lt;&gt;，如果这个头文件在我定义的某个目录，那么就要用双引号。<br>iostream这个头文件需要加.h吗？<br>答：标准库不带扩展名，因此不加。而普通头文件一般是.h .hxx .hpp。 所以要根据扩展名来写。 .h与c语言的兼容性最好。 一般.h就是普通自定义的头文件，并不在编译系统预设的目录，所以一般用引号包含。（有待验证…）</p>
<hr>
<p>##&lt;&lt;的深层理解？<br>答：cout和cin代表的是标准输出和标准输入设备。在不同的机器以及不同的程序上相应的设备当然不同。而&lt;&lt;是“流输出符”，是将右边的东西输出到左边的东西上。如果左边是cout，即将右边的东西输出到标准输出设备上。</p>
<hr>
<p>##using namespace std;的作用？<br>答：为防止函数名、对象名重名。库中的关键字都有名字空间。比如iostream属于c++标准库，而整个c++标准库的名字空间就是std。因此，在使用c++标准库里的内容时，比如使用endl这个模板函数时，我们要用std::endl，这才能精确的表示是使用的c++标准库中iostream下的endl函数。而为了编码简洁，减少打字量，我们可以在头部直接写上using namespace std，来表示当前页源代码中使用这个头文件时候，使用的名字空间是std。例如：我们可以这样测试：引入iostream，把using namespace std去掉的话，cout这样的命令就无法使用了，但是如果在使用cout时改成std::cout，则程序又能运行了。（显然，如果cout很多，using namespace std就解决了你的打字烦恼）</p>
<hr>
<p>##main函数的作用？（即程序在操作系统中的执行原理）<br>答：main函数是入口函数。当编译好的程序被用户打开，操作系统将其调入内存执行。然后操作系统调用入口函数（此时应该是代表入口函数的内存区域，然后开始执行该程序的一条条指令，即二进制码）</p>
<hr>
<p>##几个库的名字？<br>答：stl–c++标准库（不支持多线程）；boost–一个开源的c++标准库的扩展，也叫c++准标准库；wxwidgets–gui lib，即图形界面库；</p>
<hr>
<p>##为什么g++编译器支持跨平台，却还要尽量在linux下编译呢？也即为什么要在windows下安装msys来模拟一个最小化的linux以用g++(gcc)进行进行编译呢?<br>答：因为跨平台，所以一般情况下，使用win平台下的g++（比如mingw）可以进行编译。但是可恶的是，有几个库的开发商却没有开发出在window平台下用g++进行编译的文件，比如xerces-c库（用于解析xml），就只能在win下用vs编译或者在linux下用g++等编译。所以我们在win下只好模拟linux才能编译xerces-c这个库。幸好mingw除了提供g++编译器，还提供了msys，小巧灵活，却能实现在win平台下模拟linux，从而完美编译所有的库（在linux平台下，不存在任何没有提供编译文件的库）。当然，除了这个曲径通幽的解决办法。<br>我们还可以在win平台下使用vc编译器，某些库的开发商在win平台下有相应的支持vc等编译器编译的文件。因此也可以这样做。<br>也由此看出，我们所用的库是需要跟编译器适应的。库也要开发不同的版本以适应某个平台下的某些编译器。</p>
<hr>
<p>##UNIX?<br>答：六七十年代，某美国人用汇编给某机器写了个操作系统原型。第三版使用了BCPL高级语言，感觉不行，就对bcpl改良成了c语言，写成第三版内核，c语言与unix开始流行。unix流行并开源交流后，78年伯克利大学开发出BSD系列，成为一分支，同时AT&amp;T成立USG（Unix Support Group），将 Unix变成商业化的产品。从此，BSD的 Unix 便和AT&amp;T 的Unix 分庭抗礼，Unix就分为System IV和4.x BSD这两大主流，各自蓬勃发展。82年以后att这边成为商业版，bsd那边继续开发（比如tcpip协议）。后来出现法律纠纷 ，使bsd停滞或者去除了些代码。94年官司了解，bsd复兴，其开发也出现几个方向，于是出现了freebsd，openbsd，netbsd。当然，att那边也不断出现一些版本。另外，一些大公司在基于unix源码的基础上，也开发出了好多惠普，苹果，ibm等的版本。</p>
<hr>
<p>##linux？<br>Linux是最受欢迎的自由电脑操作系统内核。它是一个用C语言和汇编语言写成，符合POSIX标准的类Unix操作系统。Linux最早是由芬兰黑客林纳斯.托瓦兹（Linus B. Torvalds）为尝试在英特尔x86架构上提供自由免费的类Unix操作系统而开发的。linux是模仿的unix，但源代码却不是unix，否则就有法律问题了。这也是linux完全开源免费的原因。其实linux只是一个内核，我们只是习惯上称我们见到的整个操作系统为linux，其实他是gnu/linux,即已经集成了gun及好多应用软件和库，窗口什么的。linux也有好多发行版本：</p>
<hr>
<p>##类unix？<br>是指在unix基础上或者克隆，模仿的操作系统。并不一定是完全copy的unix内核。如：GUN/Linux、Max OS X、Cygwin、MinGW-MSYS</p>
<hr>
<p>##.o文件？<br>答：在code：：blocks中编译产生的中间文件（对象文件）是.o为扩展名，可以删除掉。没用。在win下的编译器一般产生的是.obj的扩展名。这个中间文件又叫目标文件，是用来生产最后的exe文件而出现的中间文件。</p>
<hr>
<p>##wxwidgets？<br>既支持原生界面，也支持统一风格界面的图形界面函数库。开源非商业的。像微软的mfc是商业的，源代码不开放，而且仅支持win平台的图形界面。</p>
<hr>
<p>##编译，链接？<br>答：源代码变成可执行程序，经过编译和链接。编译将用户的源代码变成若干个目标程序/目标模块（已经是二进制bin了）。链接就是将目标程序以及他所需要的库函数连在一起形成一个完整的可执行文件。 然后当打开这个程序时由装入程序执行“装入”被装入内存，</p>
<hr>
<p>##文件一定需要扩展名吗？<br>答：文件扩展名仅仅是为了实现在用户打开文件时帮助系统寻找恰当的解码方法，如果用户指定解码程序，即使没有扩展名该文件也能打开。所以扩展名不是必须有的。</p>
<hr>
<p>##为什么库又叫做预编译库？<br>答：因为库都已经编译好了，我们写代码的时候直接把库的接口拿过来用，然后就可以直接使用这个库了。因此称库是预编译的。因为库本身已经编译成了二进制。只是他本身不能运行。只提供给别人引用。</p>
<hr>
<p>##开源协议？<br>答：貌似我们使用开源东西做的产品理应开源公开，而不可保留其源代码。</p>
<hr>
<p>##xerces-c?<br>答：强大也庞大的xml解析库。提供验证，sax和dom api。</p>
<hr>
<p>##xsd？<br>答：是一套库和工具。作用是将xml语言描述的数据转换为c++语言描述。完成XML语言到C++的数据绑定。</p>
<hr>
<p>##iconv，iconvpp？？<br>答：c++设想的locale标准库没有实现国际编码的目标。icov是一个小巧的解决字符集，编码问题。前者是c语言功能库，后者是对iconv接口进行改造封装为使用于c++的库，他依赖于iconvpp</p>
<hr>
<p>##deelx？<br>答：一个特别轻便的正则表达式解析引擎。仅提供正则表达式处理。事实上，该库仅仅是一个头文件。</p>
<hr>
<p>##gsoap？？<br>答：gSOAP是一套辅助使用C++开发Web Service的工具。</p>
<hr>
<p>##SDL？？<br>答：SDL全称“Simple DirectMedia Layer”。是一个跨平台的多媒体程序开发库，支持直接访问音频设备、键盘、鼠标、游戏杆、3D硬件（通过OpenGL）、2D视频缓冲等。</p>
<hr>
<p>##编码和字符集？<br>答：编码是生活中的字符在计算机中用哪些数值来表示；字符集是一串计算机内的数值表示的是汉字还是英文还是其他字符。某个文件（甚至是网页文件），他本身采用哪种编码方式，就代表了我们在其中输入的文字以哪种形式进行编码。比如如果是gbk编码，我们写的汉字就按照gbk的规则转换为计算机数值。当我们显示这个文件的时候，也应该用gbk解码，否则如果用utf-8的话，该文件内部的数值被解码后就是乱码。由于中文系统的window都控制台使用gbk编码，因此我们编程代码编写时若有汉字则必须用gbk编码写，这样的话那些汉字所对应的字符集才能编译成能被你系统控制台认识的字符。 gbk的字符集包括2万多汉字和西方字符。如果我们的程序中使用韩文，日文，那么gbk无能为力，我们只好使用utf-8这个比较国际的字符集，他包括了简体中文，繁体中文，以及一些其他国家的字符集。 但是 有一点，用gbk编码的简体汉字能被utf-8正确解码吗，答案是不能的，虽然都是汉字，但是utf-8和gbk表示同一个汉字的字符集是不一样的，utf-8表示同一个汉字的数值比gbk的数值要大很多。因此，如果我们解码的系统是用gbk解码（比如中文版的windows），那么我们编程就要用gbk编，如果解码的操作系统（或者说运行程序的控制台）是用utf-8解码（比如linux系统），那么我们编程时就要在把ide编辑器将文档编码调整为utf-8，一般ide都支持好几种编码字符集。</p>
<hr>
<p>##在win平台下控制台exe打开后一闪而过？<br>答：1 在最后加一句cin.get();等待输入的函数。2 引入头文件stdlib.h，后在程序末尾加system(“pause”); 3 在cmd中用cd命令进目录执行该程序。</p>
<hr>
<p>##const关键字？？<br>答：使用const关键字来表示const所声明的变量为限定常量，不可能被修改。声明一个类的实例时，表示该实例不会对类的成员函数造成写操作。</p>
<hr>
<p>##屏幕输入与文件编码无关？<br>答：因为屏幕上cin的输入是用该屏幕使用的编码方式进行编码，编码成他使用的字符集，然后以二进制形式存入内存中声明的用于存放这个输入字符的变量中。因此，当内存中这块变量再被我们使用的这个程序转换为该程序的显示输出cout流时，也采用了相同的解码方式，即将内存中的二进制提取转换为该程序使用的字符集，然后用该字符集解码为屏幕上输出的内容。</p>
<hr>
<p>##int main()的返回值？<br>答：每个程序有且只有一个main函数，且操作系统首先从main函数开始调用， 他的返回值必须是int型，main的返回值代表了状态指示器，一般函数体最后返回0，返回0代表程序执行完毕，<br>任何非零一般都代表有错误，当然这根据不同的操作系统定义不同而不同。</p>
<hr>
<p>##编译程序必须使用ide吗？<br>答：no。ide只是一个将编译器、编辑器等功能集合在一起的集成开发环境。如果你不想去学习一个ide，而想直接编译你的代码（可以是在记事本中写的），那么我们可以在系统中安装一个编译器（gnu的或者微软的），比如我安装的mingw32的c++编译器，一般安装完编译器以后要把这个编译器的bin和lib(标准库)加入系统变量(为了在命令行中可以直接输入命令调用)。安装完了编译器，我们就可以对我们写代码进行编译了。cmd中首先进入源代码所在的目录，输入命令：g++ 文件名.扩展名 -o 结果文件名 。 如果不加-o 和结果文件名，则会生成文件名为a的可执行文件。</p>
<hr>
<p>##输入输出操作符的返回值？<br>cout&lt;&lt;会把右侧的值输出到设备cout(标准输出设备)上。cin&gt;&gt;会把左侧设备上输入的值输到右侧变量身上。每个输入或输出操作完成后，其返回的结果是这个输入或者输出设备本身。也就是，如果cout右侧的内容输出到cout以后，则接着返回cout，因此，我们可以在一个操作符后面接着写下一个内容，而不必重复写这个cout。例如：cout&lt;&lt;a&lt;&lt;b;则，输入完a以后，返回一个cout，后面的代码变成了cout&lt;&lt;b;所以没有逻辑错误。cin同理。</p>
<hr>
<p>##c++常用扩展名，看到后别不知道？<br>答：.c .cpp .cp .cxx .cc</p>
<hr>
<p>##控制台中的程序如何强制退出？<br>答：ctrl+c。对付死循环。有时候我们为了防止控制台的程序看不到结果而自动退出，我们需要写个while(1),这样的死循环来持续的看到控制台结果，因此我们需要用到ctrl+c来使我们的程序退出。</p>
<hr>
<p>##创建自定义类型的时候，花括号后面也要加分号？<br>答：是要加的。即使这不算是一句代码的结束。</p>
<hr>
<p>##c++中对象的生死过程是？<br>答：c++中自定义的对象通过函数表达本身的生成和消亡。又叫构造函数和析构函数。如果我们自己不定义这俩函数，编译器会自动添加，默不作声。构造函数没有类型，没有返回值。在对象定义，即对象出生时，该对象的构造函数自动被执行；析构函数是在对象死亡时执行的函数，同样没有类型没有返回值。</p>
<hr>
<p>##c++中对象的生命周期？<br>答：全局对象(即在最外面声明定义的对象)，在程序创建时创建，程序结束时死亡。 局部对象(即在可执行的语句块中定义的对象)是在语句结束的时候死亡。且先生后死（即先创建的对象后死亡）。当然，如果我们在代码中自定义对象的死亡，则另当别论，这属于意外死亡。 举个例子：我们struct object{}定义了一个结构体(对象的母亲)，然后我们在main函数中开始创建这个对象(假设main函数中仅有这么一句代码),object mylaopo; 这样便创建了mylaopo这么一个对象，mylaopo这个对象的规则由struct object来定义，当然，其构造和析构函数也由struct来定义，当我们编译完成，运行这个程序，当程序执行到object mylaopo这一句的时候，便创建了mylaopo对象，与此同时，定义的构造函数也被执行(不信你可以在struct里面写一个无类型无返回值的函数试试)，当main函数执行完毕，mylaopo所在的语句块执行完毕，自然该对象到了灭亡的时刻，于是struct中定义的析构函数被执行。</p>
<hr>
<p>##在使用wxwidgets进行gui布局时需要明白expand和proportion的含义？<br>答：</p>
<hr>
<p>##struct定义时关于分号？<br>答：定义一个struct时，右花括号之后跟着一个分号(;)。其他代码一般在每句话后面跟一个分号，而最后花括号后面的分号不用加。</p>
<hr>
<p>##内存世界分为堆数据段，栈数据段，唉，先不管了，慢慢理解?<br>答：</p>
<hr>
<p>##delete在销毁堆内存时的作用？<br>答：delete是把声明过的堆对象给销毁。释放。 那么delete后面要跟一个栈变量的名字，也就是声明这个堆变量时候给堆对象起的指针变量名。该变量名是一个栈变量，delete销毁堆对象的时候要知道这个栈变量名(确保栈变量存在),然后根据栈变量中存的地址去堆内存中找到堆对象的地址区域，然后delete（销毁）掉。</p>
<hr>
<p>##自定义类型的写法风格？<br>答：把构造与析构函数放在类型定义中最前面，其它成员函数放在中间，成员数据放最后面，这是当今C++界比较流行的风格噢。</p>
<hr>
<p>##栈对象声明的先后次序在内存中的规律？<br>答：我们通过取地址可以发现，作为栈变量，先声明的比后声明的，他的内存地址次序要靠后。比如先声明的内存地址为0X22ff0c，那么后声明的则可能是0X22ff08(一个稍微靠前的内存地址)。 对于栈对象的死亡顺序是先声明的后死亡，因为是在栈中。最终看到的效果应该是：构造函数按照声明顺序出现，而析构函数则是按照声明顺序的反向顺序执行。</p>
<hr>
<p>##定义派生类的时候应该怎样设计？<br>答：不能违反伦理。也就是说派生类，一定是属于他的派生自的类的（即他的父类）。比如人是个大类，说人他不一定是美人，但是他的派生类美人一定是人。</p>
<hr>
<p>##如果派生类中和父类中都定义了构造和析构函数，那么定义一个派生类的实例时，被执行的是哪个构造函数呢？<br>答：实例化一个派生类，则其父类和该派生类自己的构造函数同时都会发作（运作，运行，执行）。如果只实例化父类，那么只执行父类里面的构造函数。还有一点，实例化该派生类的时候，父类里面的构造函数先执行，派生类里面的构造函数后执行；实例死亡的时候，派生类里面的构造函数先执行，父类里面的构造函数再死亡。<br>还有更复杂的一点，如果该派生类是通过先声明基类堆变量，然后new成派生类的话，则要看基类中的析构函数是不是虚的，是虚的则调用派生类的析构函数，不是虚的，则调用基类的析构函数。</p>
<hr>
<p>##创建一个派生类其实有两种办法？<br>答：是的。第一种，基于“派生类”创建。即最基本的创建方法，派生类名 someon或者派生类名 *someone=new 派生类的构造函数。 第二种，基于“基类”创建。即先用基类声明一个堆变量，然后堆变量在赋值的时候不是new 基类构造函数，而是new派生类构造函数。 语法例子：首先person *someone；someone=new beauty()；<br>传统的实例化基类的语法是：person *someone；someone=new person()； 我们可以比较一下二者，发现其中本质的东西。也就是第一种方法产生的这个堆变量是beauty类型，第二种方法产生的这个变量也是beauty派生类类型。但是出身不一样。一个来自本派生类，一个来自基类。这样就导致，当我们使用第二种方法的实例去调用该对象变量内的函数时，会调用基类的还是会调用派生类的？(当然，前提是基类和派生类的俩函数类型一样，参数次序及类型一样，名称一样，返回值一样，否则调用的时候就能分辨出来了。)<br>因此，牵扯出虚函数。。只要我们给基类的函数加上virtual，则他本身以及其派生类的该函数都成为虚函数，虚函数特点就是：当某个实例调用某个函数时，就看是这个实例是被创建成了什么类型，是派生类的类型，那么就调用派生类里面的函数。是基类类型那就调用基类里的同名函数。 还有一点要注意：如果实例消亡的时候调用的是派生类里的析构函数，那么同时也会调用基类的析构函数，正如上文中年刚刚提到的。</p>
<hr>
<p>##cin也是一个对象，他也是有成员函数的？<br>答：是的，而且貌似是栈对象。比如cin.fail(),以及cin.clear();</p>
<hr>
<p>##cin与getline(,)的区别？<br>答：cin遇到空格或回车就认为结束。而getline可以将完整的输入读进来。</p>
<hr>

        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/C-C/">
                #C/C++
              </a>
            
          </div>
        

        
          <div class="post-nav">
            <div class="post-nav-prev post-nav-item">
              
                <a href="/2014/07/14/#ifndef、#def、#endif说明/">宏定义#ifndef、#def、#endif说明[转]</a>
              
            </div>

            <div class="post-nav-next post-nav-item">
              
                <a href="/2014/07/11/CC++语言实现动态数组/">C/C++语言实现动态数组[转]</a>
              
            </div>
          </div>
        

        
        
      </div>
    
  </div>



  
    <div class="comments" id="comments">
      
    </div>
  

          </div>

          
        </div>

        
<div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>

<div id="sidebar" class="sidebar">
  <div class="sidebar-inner">

    
      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
          文章目录
        </li>
        <li class="sidebar-nav-overview" data-target="site-overview">
          站点概览
        </li>
      </ul>
    

    <div class="site-overview">
      <div class="site-author motion-element">
        <img class="site-author-image" src="/images/default_avatar.png" alt="Sweetfish" />
        <p class="site-author-name">Sweetfish</p>
      </div>
      <p class="site-description motion-element">敲键盘按快门玩PS的厨子</p>
      <div class="site-state motion-element">
        <div class="site-state-item site-state-posts">
          <a href="/archives">
            <span class="site-state-item-count">19</span>
            <span class="site-state-item-name">日志</span>
          </a>
        </div>

        <div class="site-state-item site-state-categories">
          <a href="/categories">
            <span class="site-state-item-count">4</span>
            <span class="site-state-item-name">分类</span>
          </a>
        </div>

        <div class="site-state-item site-state-tags">
          
            <span class="site-state-item-count">4</span>
            <span class="site-state-item-name">标签</span>
          
        </div>

      </div>

      
        <div class="feed-link motion-element">
          <a href="/atom.xml">
            <i class="menu-item-icon icon-feed"></i>
            RSS
          </a>
        </div>
      

      <div class="links-of-author motion-element">
        
      </div>

      
      

    </div>

    
      <div class="post-toc-wrap sidebar-panel-active">
        <div class="post-toc-indicator-top post-toc-indicator"></div>
        <div class="post-toc">
          
          
            <p class="post-toc-empty">此文章未包含目录</p>
          
        </div>
        <div class="post-toc-indicator-bottom post-toc-indicator"></div>
      </div>
    

  </div>
</div>


      </div>
    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2016
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Sweetfish</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>.
</div>

<div class="theme-info">
  Theme improved from&nbsp;
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>.
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  
  
<script type="text/javascript" id="bootstrap.scrollspy.custom">
  /* ========================================================================
  * Bootstrap: scrollspy.js v3.3.2
  * http://getbootstrap.com/javascript/#scrollspy
  * ========================================================================
  * Copyright 2011-2015 Twitter, Inc.
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  * ======================================================================== */

  /**
   * Custom by iissnan
   *
   * - Add a `clear.bs.scrollspy` event.
   * - Esacpe targets selector.
   */


  +function ($) {
    'use strict';

    // SCROLLSPY CLASS DEFINITION
    // ==========================

    function ScrollSpy(element, options) {
      this.$body          = $(document.body)
      this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
      this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
      this.selector       = (this.options.target || '') + ' .nav li > a'
      this.offsets        = []
      this.targets        = []
      this.activeTarget   = null
      this.scrollHeight   = 0

      this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
      this.refresh()
      this.process()
    }

    ScrollSpy.VERSION  = '3.3.2'

    ScrollSpy.DEFAULTS = {
      offset: 10
    }

    ScrollSpy.prototype.getScrollHeight = function () {
      return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }

    ScrollSpy.prototype.refresh = function () {
      var that          = this
      var offsetMethod  = 'offset'
      var offsetBase    = 0

      this.offsets      = []
      this.targets      = []
      this.scrollHeight = this.getScrollHeight()

      if (!$.isWindow(this.$scrollElement[0])) {
        offsetMethod = 'position'
        offsetBase   = this.$scrollElement.scrollTop()
      }

      this.$body
        .find(this.selector)
        .map(function () {
          var $el   = $(this)
          var href  = $el.data('target') || $el.attr('href')
          var $href = /^#./.test(href) && $(escapeSelector(href)) // Need to escape selector.

          return ($href
            && $href.length
            && $href.is(':visible')
            && [[$href[offsetMethod]().top + offsetBase, href]]) || null
        })
        .sort(function (a, b) { return a[0] - b[0] })
        .each(function () {
          that.offsets.push(this[0])
          that.targets.push(this[1])
        })


    }

    ScrollSpy.prototype.process = function () {
      var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
      var scrollHeight = this.getScrollHeight()
      var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
      var offsets      = this.offsets
      var targets      = this.targets
      var activeTarget = this.activeTarget
      var i

      if (this.scrollHeight != scrollHeight) {
        this.refresh()
      }

      if (scrollTop >= maxScroll) {
        return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
      }

      if (activeTarget && scrollTop < offsets[0]) {
        $(this.selector).trigger('clear.bs.scrollspy')  // Add a custom event.
        this.activeTarget = null
        return this.clear()
      }

      for (i = offsets.length; i--;) {
        activeTarget != targets[i]
          && scrollTop >= offsets[i]
          && (!offsets[i + 1] || scrollTop <= offsets[i + 1])
          && this.activate(targets[i])
      }
    }

    ScrollSpy.prototype.activate = function (target) {
      this.activeTarget = target

      this.clear()

      var selector = this.selector +
        '[data-target="' + target + '"],' +
        this.selector + '[href="' + target + '"]'

      var active = $(selector)
        .parents('li')
        .addClass('active')

      if (active.parent('.dropdown-menu').length) {
        active = active
          .closest('li.dropdown')
          .addClass('active')
      }

      active.trigger('activate.bs.scrollspy')
    }

    ScrollSpy.prototype.clear = function () {
      $(this.selector)
        .parentsUntil(this.options.target, '.active')
        .removeClass('active')
    }


    // SCROLLSPY PLUGIN DEFINITION
    // ===========================

    function Plugin(option) {
      return this.each(function () {
        var $this   = $(this)
        var data    = $this.data('bs.scrollspy')
        var options = typeof option == 'object' && option

        if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
        if (typeof option == 'string') data[option]()
      })
    }

    var old = $.fn.scrollspy

    $.fn.scrollspy             = Plugin
    $.fn.scrollspy.Constructor = ScrollSpy


    // SCROLLSPY NO CONFLICT
    // =====================

    $.fn.scrollspy.noConflict = function () {
      $.fn.scrollspy = old
      return this
    }


    // SCROLLSPY DATA-API
    // ==================

    $(window).on('load.bs.scrollspy.data-api', function () {
      $('[data-spy="scroll"]').each(function () {
        var $spy = $(this)
        Plugin.call($spy, $spy.data())
      })
    })

  }(jQuery);
</script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var $sidebarInner = $('.sidebar-inner');
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.didShow', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;
          var self = this;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      $(indicator).velocity('stop').velocity({
        opacity: action === 'show' ? 0.4 : 0
      }, { duration: 100 });
    }

  });
</script>


  <script type="text/javascript" id="sidebar.nav">
    $(document).ready(function () {
      var html = $('html');

      $('.sidebar-nav li').on('click', function () {
        var item = $(this);
        var activeTabClassName = 'sidebar-nav-active';
        var activePanelClassName = 'sidebar-panel-active';
        if (item.hasClass(activeTabClassName)) {
          return;
        }

        var currentTarget = $('.' + activePanelClassName);
        var target = $('.' + item.data('target'));

        currentTarget.velocity('transition.slideUpOut', 200, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', 200)
            .addClass(activePanelClassName);
        });

        item.siblings().removeClass(activeTabClassName);
        item.addClass(activeTabClassName);
      });

      $('.post-toc a').on('click', function (e) {
        e.preventDefault();
        var offset = $(escapeSelector(this.getAttribute('href'))).offset().top;
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        });
      });

      // Expand sidebar on post detail page by default, when post has a toc.
      var $tocContent = $('.post-toc-content');
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0 && isDesktop()) {
        setTimeout(function () {
          $('.sidebar-toggle').trigger('click');
        }, 800);
      }
    });
  </script>




  

  
  

  


  
</body>
</html>
